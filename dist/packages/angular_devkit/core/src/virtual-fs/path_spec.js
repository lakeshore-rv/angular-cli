"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const path_1 = require("./path");
describe('path', () => {
    it('normalize', () => {
        expect(path_1.normalize('////')).toBe('/');
        expect(path_1.normalize('././././.')).toBe('');
        expect(path_1.normalize('/./././.')).toBe('/');
        // Regular use cases.
        expect(path_1.normalize('a')).toBe('a');
        expect(path_1.normalize('a/b/c')).toBe('a/b/c');
        expect(path_1.normalize('/a/b/c')).toBe('/a/b/c');
        expect(path_1.normalize('./a/b/c')).toBe('a/b/c');
        expect(path_1.normalize('/./a/b/c')).toBe('/a/b/c');
        expect(path_1.normalize('/./a/b/c/')).toBe('/a/b/c');
        expect(path_1.normalize('/./a/b/./c')).toBe('/a/b/c');
        expect(path_1.normalize('./a/b/./c')).toBe('a/b/c');
        expect(path_1.normalize('/./a/b/d/../c')).toBe('/a/b/c');
        expect(path_1.normalize('/./a/b/./d/../c')).toBe('/a/b/c');
        expect(path_1.normalize('././a/b/./d/../c')).toBe('a/b/c');
        expect(path_1.normalize('a/')).toBe('a');
        expect(path_1.normalize('a/./..')).toBe('');
        // Reducing to nothing use cases.
        expect(path_1.normalize('')).toBe('');
        expect(path_1.normalize('.')).toBe('');
        expect(path_1.normalize('/.')).toBe('/');
        expect(path_1.normalize('/./.')).toBe('/');
        expect(path_1.normalize('/././.')).toBe('/');
        expect(path_1.normalize('/c/..')).toBe('/');
        // Out of directory.
        expect(path_1.normalize('..')).toBe('..');
        expect(path_1.normalize('../..')).toBe('../..');
        expect(path_1.normalize('../../a')).toBe('../../a');
        expect(path_1.normalize('b/../../a')).toBe('../a');
        expect(path_1.normalize('./..')).toBe('..');
        expect(path_1.normalize('../a/b/c')).toBe('../a/b/c');
        expect(path_1.normalize('./a/../../a/b/c')).toBe('../a/b/c');
        // Invalid use cases.
        expect(() => path_1.normalize('/./././../././/'))
            .toThrow(new path_1.InvalidPathException('/./././../././/'));
        expect(() => path_1.normalize('/./././../././/../'))
            .toThrow(new path_1.InvalidPathException('/./././../././/../'));
        expect(() => path_1.normalize('/./././../././a/.'))
            .toThrow(new path_1.InvalidPathException('/./././../././a/.'));
        expect(() => path_1.normalize('/c/../../')).toThrow(new path_1.InvalidPathException('/c/../../'));
        // Windows use cases.
        expect(path_1.normalize('a\\b\\c')).toBe('a/b/c');
        expect(path_1.normalize('\\a\\b\\c')).toBe('/a/b/c');
        expect(path_1.normalize('.\\a\\b\\c')).toBe('a/b/c');
        expect(path_1.normalize('C:\\a\\b\\c')).toBe('/C/a/b/c');
        expect(path_1.normalize('c:\\a\\b\\c')).toBe('/c/a/b/c');
        expect(path_1.normalize('A:\\a\\b\\c')).toBe('/A/a/b/c');
        expect(() => path_1.normalize('A:\\..\\..'))
            .toThrow(new path_1.InvalidPathException('A:\\..\\..'));
        expect(path_1.normalize('\\.\\a\\b\\c')).toBe('/a/b/c');
        expect(path_1.normalize('\\.\\a\\b\\.\\c')).toBe('/a/b/c');
        expect(path_1.normalize('\\.\\a\\b\\d\\..\\c')).toBe('/a/b/c');
        expect(path_1.normalize('\\.\\a\\b\\.\\d\\..\\c')).toBe('/a/b/c');
        expect(path_1.normalize('a\\')).toBe('a');
    });
    describe('split', () => {
        const tests = [
            ['a', ['a']],
            ['/a/b', ['', 'a', 'b']],
            ['a/b', ['a', 'b']],
            ['a/b/', ['a', 'b']],
            ['', []],
            ['/', ['']],
        ];
        for (const goldens of tests) {
            const result = goldens.pop();
            const args = goldens.map((x) => path_1.normalize(x));
            it(`(${JSON.stringify(args)}) == "${result}"`, () => {
                expect(path_1.split.apply(null, args)).toEqual(result);
            });
        }
    });
    describe('join', () => {
        const tests = [
            ['a', 'a'],
            ['/a', '/b', '/a/b'],
            ['/a', '/b', '/c', '/a/b/c'],
            ['/a', 'b', 'c', '/a/b/c'],
            ['a', 'b', 'c', 'a/b/c'],
        ];
        for (const goldens of tests) {
            const result = goldens.pop();
            const args = goldens.map(x => path_1.normalize(x));
            it(`(${JSON.stringify(args)}) == "${result}"`, () => {
                expect(path_1.join.apply(null, args)).toBe(result);
            });
        }
    });
    describe('relative', () => {
        const tests = [
            ['/a/b/c', '/a/b/c', ''],
            ['/a/b', '/a/b/c', 'c'],
            ['/a/b', '/a/b/c/d', 'c/d'],
            ['/a/b/c', '/a/b', '..'],
            ['/a/b/c', '/a/b/d', '../d'],
            ['/a/b/c/d/e', '/a/f/g', '../../../../f/g'],
            [
                '/src/app/sub1/test1', '/src/app/sub2/test2',
                '../../sub2/test2',
            ],
        ];
        for (const [from, to, result] of tests) {
            it(`("${from}", "${to}") == "${result}"`, () => {
                const f = path_1.normalize(from);
                const t = path_1.normalize(to);
                expect(path_1.relative(f, t)).toBe(result);
            });
        }
    });
    it('dirname', () => {
        expect(path_1.dirname(path_1.normalize('a'))).toBe('');
        expect(path_1.dirname(path_1.normalize('/a'))).toBe('/');
        expect(path_1.dirname(path_1.normalize('/a/b/c'))).toBe('/a/b');
        expect(path_1.dirname(path_1.normalize('./c'))).toBe('');
        expect(path_1.dirname(path_1.normalize('./a/b/c'))).toBe('a/b');
    });
    it('basename', () => {
        expect(path_1.basename(path_1.normalize('a'))).toBe('a');
        expect(path_1.basename(path_1.normalize('/a/b/c'))).toBe('c');
        expect(path_1.basename(path_1.normalize('./c'))).toBe('c');
        expect(path_1.basename(path_1.normalize('.'))).toBe('');
        expect(path_1.basename(path_1.normalize('./a/b/c'))).toBe('c');
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF0aF9zcGVjLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9lcm5pZWRhdmlzL0NvZGUvYW5ndWxhci1jbGkvIiwic291cmNlcyI6WyJwYWNrYWdlcy9hbmd1bGFyX2RldmtpdC9jb3JlL3NyYy92aXJ0dWFsLWZzL3BhdGhfc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7R0FNRztBQUNILGlDQVNnQjtBQUdoQixRQUFRLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtJQUNwQixFQUFFLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRTtRQUNuQixNQUFNLENBQUMsZ0JBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNwQyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUV4QyxxQkFBcUI7UUFDckIsTUFBTSxDQUFDLGdCQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakMsTUFBTSxDQUFDLGdCQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekMsTUFBTSxDQUFDLGdCQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLGdCQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLGdCQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLGdCQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLGdCQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDL0MsTUFBTSxDQUFDLGdCQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLGdCQUFTLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEQsTUFBTSxDQUFDLGdCQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwRCxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BELE1BQU0sQ0FBQyxnQkFBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0sQ0FBQyxnQkFBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRXJDLGlDQUFpQztRQUNqQyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQixNQUFNLENBQUMsZ0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoQyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNwQyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVyQyxvQkFBb0I7UUFDcEIsTUFBTSxDQUFDLGdCQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkMsTUFBTSxDQUFDLGdCQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekMsTUFBTSxDQUFDLGdCQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLGdCQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUMsTUFBTSxDQUFDLGdCQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsTUFBTSxDQUFDLGdCQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDL0MsTUFBTSxDQUFDLGdCQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUV0RCxxQkFBcUI7UUFDckIsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLGdCQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQzthQUN2QyxPQUFPLENBQUMsSUFBSSwyQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7UUFDeEQsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLGdCQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQzthQUMxQyxPQUFPLENBQUMsSUFBSSwyQkFBb0IsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7UUFDM0QsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLGdCQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQzthQUN6QyxPQUFPLENBQUMsSUFBSSwyQkFBb0IsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7UUFFMUQsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLGdCQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSwyQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBRXBGLHFCQUFxQjtRQUNyQixNQUFNLENBQUMsZ0JBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzQyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsRCxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsRCxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsRCxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsZ0JBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQzthQUNsQyxPQUFPLENBQUMsSUFBSSwyQkFBb0IsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxnQkFBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxnQkFBUyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDcEQsTUFBTSxDQUFDLGdCQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsZ0JBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNELE1BQU0sQ0FBQyxnQkFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDckIsTUFBTSxLQUFLLEdBQUc7WUFDWixDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1osQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ25CLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3BCLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUNSLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDWixDQUFDO1FBRUYsS0FBSyxNQUFNLE9BQU8sSUFBSSxLQUFLLEVBQUU7WUFDM0IsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQzdCLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFTLEVBQUUsRUFBRSxDQUFDLGdCQUFTLENBQUMsQ0FBQyxDQUFDLENBQVcsQ0FBQztZQUVoRSxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRTtnQkFDbEQsTUFBTSxDQUFDLFlBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2xELENBQUMsQ0FBQyxDQUFDO1NBQ0o7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO1FBQ3BCLE1BQU0sS0FBSyxHQUFHO1lBQ1osQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO1lBQ1YsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQztZQUNwQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQztZQUM1QixDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQztZQUMxQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQztTQUN6QixDQUFDO1FBRUYsS0FBSyxNQUFNLE9BQU8sSUFBSSxLQUFLLEVBQUU7WUFDM0IsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQzdCLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxnQkFBUyxDQUFDLENBQUMsQ0FBQyxDQUFXLENBQUM7WUFFdEQsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxNQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUU7Z0JBQ2xELE1BQU0sQ0FBQyxXQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM5QyxDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRTtRQUN4QixNQUFNLEtBQUssR0FBRztZQUNaLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7WUFDeEIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQztZQUN2QixDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsS0FBSyxDQUFDO1lBQzNCLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUM7WUFDeEIsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQztZQUM1QixDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUUsaUJBQWlCLENBQUM7WUFDM0M7Z0JBQ0UscUJBQXFCLEVBQUUscUJBQXFCO2dCQUM1QyxrQkFBa0I7YUFDbkI7U0FDRixDQUFDO1FBRUYsS0FBSyxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsSUFBSSxLQUFLLEVBQUU7WUFDdEMsRUFBRSxDQUFDLEtBQUssSUFBSSxPQUFPLEVBQUUsVUFBVSxNQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUU7Z0JBQzdDLE1BQU0sQ0FBQyxHQUFHLGdCQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzFCLE1BQU0sQ0FBQyxHQUFHLGdCQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBRXhCLE1BQU0sQ0FBQyxlQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3RDLENBQUMsQ0FBQyxDQUFDO1NBQ0o7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO1FBQ2pCLE1BQU0sQ0FBQyxjQUFPLENBQUMsZ0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxjQUFPLENBQUMsZ0JBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzNDLE1BQU0sQ0FBQyxjQUFPLENBQUMsZ0JBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xELE1BQU0sQ0FBQyxjQUFPLENBQUMsZ0JBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzNDLE1BQU0sQ0FBQyxjQUFPLENBQUMsZ0JBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7UUFDbEIsTUFBTSxDQUFDLGVBQVEsQ0FBQyxnQkFBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLGVBQVEsQ0FBQyxnQkFBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDaEQsTUFBTSxDQUFDLGVBQVEsQ0FBQyxnQkFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLGVBQVEsQ0FBQyxnQkFBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDMUMsTUFBTSxDQUFDLGVBQVEsQ0FBQyxnQkFBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkQsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmltcG9ydCB7XG4gIEludmFsaWRQYXRoRXhjZXB0aW9uLFxuICBQYXRoLFxuICBiYXNlbmFtZSxcbiAgZGlybmFtZSxcbiAgam9pbixcbiAgbm9ybWFsaXplLFxuICByZWxhdGl2ZSxcbiAgc3BsaXQsXG59IGZyb20gJy4vcGF0aCc7XG5cblxuZGVzY3JpYmUoJ3BhdGgnLCAoKSA9PiB7XG4gIGl0KCdub3JtYWxpemUnLCAoKSA9PiB7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnLy8vLycpKS50b0JlKCcvJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnLi8uLy4vLi8uJykpLnRvQmUoJycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJy8uLy4vLi8uJykpLnRvQmUoJy8nKTtcblxuICAgIC8vIFJlZ3VsYXIgdXNlIGNhc2VzLlxuICAgIGV4cGVjdChub3JtYWxpemUoJ2EnKSkudG9CZSgnYScpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJ2EvYi9jJykpLnRvQmUoJ2EvYi9jJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnL2EvYi9jJykpLnRvQmUoJy9hL2IvYycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJy4vYS9iL2MnKSkudG9CZSgnYS9iL2MnKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcvLi9hL2IvYycpKS50b0JlKCcvYS9iL2MnKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcvLi9hL2IvYy8nKSkudG9CZSgnL2EvYi9jJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnLy4vYS9iLy4vYycpKS50b0JlKCcvYS9iL2MnKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcuL2EvYi8uL2MnKSkudG9CZSgnYS9iL2MnKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcvLi9hL2IvZC8uLi9jJykpLnRvQmUoJy9hL2IvYycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJy8uL2EvYi8uL2QvLi4vYycpKS50b0JlKCcvYS9iL2MnKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcuLy4vYS9iLy4vZC8uLi9jJykpLnRvQmUoJ2EvYi9jJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnYS8nKSkudG9CZSgnYScpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJ2EvLi8uLicpKS50b0JlKCcnKTtcblxuICAgIC8vIFJlZHVjaW5nIHRvIG5vdGhpbmcgdXNlIGNhc2VzLlxuICAgIGV4cGVjdChub3JtYWxpemUoJycpKS50b0JlKCcnKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcuJykpLnRvQmUoJycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJy8uJykpLnRvQmUoJy8nKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcvLi8uJykpLnRvQmUoJy8nKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcvLi8uLy4nKSkudG9CZSgnLycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJy9jLy4uJykpLnRvQmUoJy8nKTtcblxuICAgIC8vIE91dCBvZiBkaXJlY3RvcnkuXG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnLi4nKSkudG9CZSgnLi4nKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCcuLi8uLicpKS50b0JlKCcuLi8uLicpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJy4uLy4uL2EnKSkudG9CZSgnLi4vLi4vYScpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJ2IvLi4vLi4vYScpKS50b0JlKCcuLi9hJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnLi8uLicpKS50b0JlKCcuLicpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJy4uL2EvYi9jJykpLnRvQmUoJy4uL2EvYi9jJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnLi9hLy4uLy4uL2EvYi9jJykpLnRvQmUoJy4uL2EvYi9jJyk7XG5cbiAgICAvLyBJbnZhbGlkIHVzZSBjYXNlcy5cbiAgICBleHBlY3QoKCkgPT4gbm9ybWFsaXplKCcvLi8uLy4vLi4vLi8uLy8nKSlcbiAgICAgIC50b1Rocm93KG5ldyBJbnZhbGlkUGF0aEV4Y2VwdGlvbignLy4vLi8uLy4uLy4vLi8vJykpO1xuICAgIGV4cGVjdCgoKSA9PiBub3JtYWxpemUoJy8uLy4vLi8uLi8uLy4vLy4uLycpKVxuICAgICAgLnRvVGhyb3cobmV3IEludmFsaWRQYXRoRXhjZXB0aW9uKCcvLi8uLy4vLi4vLi8uLy8uLi8nKSk7XG4gICAgZXhwZWN0KCgpID0+IG5vcm1hbGl6ZSgnLy4vLi8uLy4uLy4vLi9hLy4nKSlcbiAgICAgIC50b1Rocm93KG5ldyBJbnZhbGlkUGF0aEV4Y2VwdGlvbignLy4vLi8uLy4uLy4vLi9hLy4nKSk7XG5cbiAgICBleHBlY3QoKCkgPT4gbm9ybWFsaXplKCcvYy8uLi8uLi8nKSkudG9UaHJvdyhuZXcgSW52YWxpZFBhdGhFeGNlcHRpb24oJy9jLy4uLy4uLycpKTtcblxuICAgIC8vIFdpbmRvd3MgdXNlIGNhc2VzLlxuICAgIGV4cGVjdChub3JtYWxpemUoJ2FcXFxcYlxcXFxjJykpLnRvQmUoJ2EvYi9jJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnXFxcXGFcXFxcYlxcXFxjJykpLnRvQmUoJy9hL2IvYycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJy5cXFxcYVxcXFxiXFxcXGMnKSkudG9CZSgnYS9iL2MnKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCdDOlxcXFxhXFxcXGJcXFxcYycpKS50b0JlKCcvQy9hL2IvYycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJ2M6XFxcXGFcXFxcYlxcXFxjJykpLnRvQmUoJy9jL2EvYi9jJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnQTpcXFxcYVxcXFxiXFxcXGMnKSkudG9CZSgnL0EvYS9iL2MnKTtcbiAgICBleHBlY3QoKCkgPT4gbm9ybWFsaXplKCdBOlxcXFwuLlxcXFwuLicpKVxuICAgICAgLnRvVGhyb3cobmV3IEludmFsaWRQYXRoRXhjZXB0aW9uKCdBOlxcXFwuLlxcXFwuLicpKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCdcXFxcLlxcXFxhXFxcXGJcXFxcYycpKS50b0JlKCcvYS9iL2MnKTtcbiAgICBleHBlY3Qobm9ybWFsaXplKCdcXFxcLlxcXFxhXFxcXGJcXFxcLlxcXFxjJykpLnRvQmUoJy9hL2IvYycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJ1xcXFwuXFxcXGFcXFxcYlxcXFxkXFxcXC4uXFxcXGMnKSkudG9CZSgnL2EvYi9jJyk7XG4gICAgZXhwZWN0KG5vcm1hbGl6ZSgnXFxcXC5cXFxcYVxcXFxiXFxcXC5cXFxcZFxcXFwuLlxcXFxjJykpLnRvQmUoJy9hL2IvYycpO1xuICAgIGV4cGVjdChub3JtYWxpemUoJ2FcXFxcJykpLnRvQmUoJ2EnKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3NwbGl0JywgKCkgPT4ge1xuICAgIGNvbnN0IHRlc3RzID0gW1xuICAgICAgWydhJywgWydhJ11dLFxuICAgICAgWycvYS9iJywgWycnLCAnYScsICdiJ11dLFxuICAgICAgWydhL2InLCBbJ2EnLCAnYiddXSxcbiAgICAgIFsnYS9iLycsIFsnYScsICdiJ11dLFxuICAgICAgWycnLCBbXV0sXG4gICAgICBbJy8nLCBbJyddXSxcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBnb2xkZW5zIG9mIHRlc3RzKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBnb2xkZW5zLnBvcCgpO1xuICAgICAgY29uc3QgYXJncyA9IGdvbGRlbnMubWFwKCh4OiBzdHJpbmcpID0+IG5vcm1hbGl6ZSh4KSkgYXMgUGF0aFtdO1xuXG4gICAgICBpdChgKCR7SlNPTi5zdHJpbmdpZnkoYXJncyl9KSA9PSBcIiR7cmVzdWx0fVwiYCwgKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc3BsaXQuYXBwbHkobnVsbCwgYXJncykpLnRvRXF1YWwocmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2pvaW4nLCAoKSA9PiB7XG4gICAgY29uc3QgdGVzdHMgPSBbXG4gICAgICBbJ2EnLCAnYSddLFxuICAgICAgWycvYScsICcvYicsICcvYS9iJ10sXG4gICAgICBbJy9hJywgJy9iJywgJy9jJywgJy9hL2IvYyddLFxuICAgICAgWycvYScsICdiJywgJ2MnLCAnL2EvYi9jJ10sXG4gICAgICBbJ2EnLCAnYicsICdjJywgJ2EvYi9jJ10sXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgZ29sZGVucyBvZiB0ZXN0cykge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZ29sZGVucy5wb3AoKTtcbiAgICAgIGNvbnN0IGFyZ3MgPSBnb2xkZW5zLm1hcCh4ID0+IG5vcm1hbGl6ZSh4KSkgYXMgUGF0aFtdO1xuXG4gICAgICBpdChgKCR7SlNPTi5zdHJpbmdpZnkoYXJncyl9KSA9PSBcIiR7cmVzdWx0fVwiYCwgKCkgPT4ge1xuICAgICAgICBleHBlY3Qoam9pbi5hcHBseShudWxsLCBhcmdzKSkudG9CZShyZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBkZXNjcmliZSgncmVsYXRpdmUnLCAoKSA9PiB7XG4gICAgY29uc3QgdGVzdHMgPSBbXG4gICAgICBbJy9hL2IvYycsICcvYS9iL2MnLCAnJ10sXG4gICAgICBbJy9hL2InLCAnL2EvYi9jJywgJ2MnXSxcbiAgICAgIFsnL2EvYicsICcvYS9iL2MvZCcsICdjL2QnXSxcbiAgICAgIFsnL2EvYi9jJywgJy9hL2InLCAnLi4nXSxcbiAgICAgIFsnL2EvYi9jJywgJy9hL2IvZCcsICcuLi9kJ10sXG4gICAgICBbJy9hL2IvYy9kL2UnLCAnL2EvZi9nJywgJy4uLy4uLy4uLy4uL2YvZyddLFxuICAgICAgW1xuICAgICAgICAnL3NyYy9hcHAvc3ViMS90ZXN0MScsICcvc3JjL2FwcC9zdWIyL3Rlc3QyJyxcbiAgICAgICAgJy4uLy4uL3N1YjIvdGVzdDInLFxuICAgICAgXSxcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBbZnJvbSwgdG8sIHJlc3VsdF0gb2YgdGVzdHMpIHtcbiAgICAgIGl0KGAoXCIke2Zyb219XCIsIFwiJHt0b31cIikgPT0gXCIke3Jlc3VsdH1cImAsICgpID0+IHtcbiAgICAgICAgY29uc3QgZiA9IG5vcm1hbGl6ZShmcm9tKTtcbiAgICAgICAgY29uc3QgdCA9IG5vcm1hbGl6ZSh0byk7XG5cbiAgICAgICAgZXhwZWN0KHJlbGF0aXZlKGYsIHQpKS50b0JlKHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGl0KCdkaXJuYW1lJywgKCkgPT4ge1xuICAgIGV4cGVjdChkaXJuYW1lKG5vcm1hbGl6ZSgnYScpKSkudG9CZSgnJyk7XG4gICAgZXhwZWN0KGRpcm5hbWUobm9ybWFsaXplKCcvYScpKSkudG9CZSgnLycpO1xuICAgIGV4cGVjdChkaXJuYW1lKG5vcm1hbGl6ZSgnL2EvYi9jJykpKS50b0JlKCcvYS9iJyk7XG4gICAgZXhwZWN0KGRpcm5hbWUobm9ybWFsaXplKCcuL2MnKSkpLnRvQmUoJycpO1xuICAgIGV4cGVjdChkaXJuYW1lKG5vcm1hbGl6ZSgnLi9hL2IvYycpKSkudG9CZSgnYS9iJyk7XG4gIH0pO1xuXG4gIGl0KCdiYXNlbmFtZScsICgpID0+IHtcbiAgICBleHBlY3QoYmFzZW5hbWUobm9ybWFsaXplKCdhJykpKS50b0JlKCdhJyk7XG4gICAgZXhwZWN0KGJhc2VuYW1lKG5vcm1hbGl6ZSgnL2EvYi9jJykpKS50b0JlKCdjJyk7XG4gICAgZXhwZWN0KGJhc2VuYW1lKG5vcm1hbGl6ZSgnLi9jJykpKS50b0JlKCdjJyk7XG4gICAgZXhwZWN0KGJhc2VuYW1lKG5vcm1hbGl6ZSgnLicpKSkudG9CZSgnJyk7XG4gICAgZXhwZWN0KGJhc2VuYW1lKG5vcm1hbGl6ZSgnLi9hL2IvYycpKSkudG9CZSgnYycpO1xuICB9KTtcbn0pO1xuIl19
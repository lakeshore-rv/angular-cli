"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
// tslint:disable:no-big-function
const parser_1 = require("./parser");
// Node 6 compatibility.
function entries(x) {
    return Object.keys(x).map(k => [k, x[k]]);
}
describe('parseJson and parseJsonAst', () => {
    describe('generic', () => {
        const numbers = {};
        const errors = [
            '',
            '-abcdefghijklmnopqrstuvwxyz',
        ];
        for (const [n, [start, end, text]] of entries(numbers)) {
            it(`works for ${JSON.stringify(n)}`, () => {
                const ast = parser_1.parseJsonAst(n);
                expect(ast.start).toEqual({ offset: start[0], line: start[1], character: start[2] });
                expect(ast.end).toEqual({ offset: end[0], line: end[1], character: end[2] });
                expect(ast.value).toEqual(JSON.parse(n));
                expect(parser_1.parseJson(n)).toEqual(JSON.parse(n));
                expect(ast.text).toBe(text === undefined ? n : text);
            });
        }
        for (const n of errors) {
            it(`errors for ${JSON.stringify(n)}`, () => {
                expect(() => parser_1.parseJsonAst(n)).toThrow();
                expect(() => parser_1.parseJson(n)).toThrow();
                expect(() => JSON.parse(n)).toThrow();
            });
        }
    });
    describe('numbers', () => {
        const numbers = {
            '1234': [[0, 0, 0], [4, 0, 4]],
            '12E34': [[0, 0, 0], [5, 0, 5]],
            '12E+4': [[0, 0, 0], [5, 0, 5]],
            '12E-4': [[0, 0, 0], [5, 0, 5]],
            '12E-0004': [[0, 0, 0], [8, 0, 8]],
            '   1234   ': [[3, 0, 3], [7, 0, 7], '1234'],
            '\r1234\t': [[1, 0, 1], [5, 0, 5], '1234'],
            '\n1234\n': [[1, 1, 0], [5, 1, 4], '1234'],
            '0.123': [[0, 0, 0], [5, 0, 5]],
            '0': [[0, 0, 0], [1, 0, 1]],
            '\n\n\n\n\n0': [[5, 5, 0], [6, 5, 1], '0'],
        };
        const errors = [
            '000',
            '01',
            '1E1+1',
            '--',
            '0-0',
            '-0-0',
            '0.0.0',
            '0\n.0\n.0',
        ];
        for (const [n, [start, end, text]] of entries(numbers)) {
            it(`works for ${JSON.stringify(n)}`, () => {
                const ast = parser_1.parseJsonAst(n);
                expect(ast.kind).toBe('number');
                expect(ast.start).toEqual({ offset: start[0], line: start[1], character: start[2] });
                expect(ast.end).toEqual({ offset: end[0], line: end[1], character: end[2] });
                expect(ast.value).toEqual(JSON.parse(n));
                expect(parser_1.parseJson(n)).toEqual(JSON.parse(n));
                expect(ast.text).toBe(text === undefined ? n : text);
            });
        }
        for (const n of errors) {
            it(`errors for ${JSON.stringify(n)}`, () => {
                expect(() => parser_1.parseJsonAst(n)).toThrow();
                expect(() => parser_1.parseJson(n)).toThrow();
                expect(() => JSON.parse(n)).toThrow();
            });
        }
    });
    describe('strings', () => {
        const strings = {
            '""': [[0, 0, 0], [2, 0, 2]],
            '"hello"': [[0, 0, 0], [7, 0, 7]],
            '"a\\nb"': [[0, 0, 0], [6, 0, 6]],
            '"a\\nb\\tc\\rd\\\\e\\/f\\\"g\\bh\\fi"': [[0, 0, 0], [27, 0, 27]],
            '"a\\u1234b"': [[0, 0, 0], [10, 0, 10]],
        };
        const errors = [
            '"\\z"',
            '\'hello\'',
            '"\\',
            '"a\\zb"',
            '"a',
            '"a\nb"',
        ];
        for (const [n, [start, end, text]] of entries(strings)) {
            it(`works for ${JSON.stringify(n)}`, () => {
                const ast = parser_1.parseJsonAst(n);
                expect(ast.kind).toBe('string');
                expect(ast.start).toEqual({ offset: start[0], line: start[1], character: start[2] });
                expect(ast.end).toEqual({ offset: end[0], line: end[1], character: end[2] });
                expect(ast.value).toEqual(JSON.parse(n));
                expect(parser_1.parseJson(n)).toEqual(JSON.parse(n));
                expect(ast.text).toBe(text === undefined ? n : text);
            });
        }
        for (const n of errors) {
            it(`errors for ${JSON.stringify(n)}`, () => {
                expect(() => parser_1.parseJsonAst(n)).toThrow();
                expect(() => parser_1.parseJson(n)).toThrow();
                expect(() => JSON.parse(n)).toThrow();
            });
        }
    });
    describe('constants', () => {
        const strings = {
            'true': ['true', [0, 0, 0], [4, 0, 4], true],
            'false': ['false', [0, 0, 0], [5, 0, 5], false],
            'null': ['null', [0, 0, 0], [4, 0, 4], null],
        };
        const errors = [
            'undefined',
        ];
        for (const [n, [kind, start, end, value, text]] of entries(strings)) {
            it(`works for ${JSON.stringify(n)}`, () => {
                const ast = parser_1.parseJsonAst(n);
                expect(ast.kind).toBe(kind);
                expect(ast.start).toEqual({ offset: start[0], line: start[1], character: start[2] });
                expect(ast.end).toEqual({ offset: end[0], line: end[1], character: end[2] });
                expect(ast.value).toEqual(value);
                expect(ast.text).toBe(text === undefined ? n : text);
            });
        }
        for (const n of errors) {
            it(`errors for ${JSON.stringify(n)}`, () => {
                expect(() => parser_1.parseJsonAst(n)).toThrow();
                expect(() => parser_1.parseJson(n)).toThrow();
                expect(() => JSON.parse(n)).toThrow();
            });
        }
    });
    describe('arrays', () => {
        const strings = {
            '[0,1,2,3]': [[0, 0, 0], [9, 0, 9]],
            '[[0],1,2,3]': [[0, 0, 0], [11, 0, 11]],
            '[0\n,\n1,2,3]': [[0, 0, 0], [11, 2, 6]],
            '[]': [[0, 0, 0], [2, 0, 2]],
            '\n[\n]\n': [[1, 1, 0], [4, 2, 1], '[\n]'],
            '[\n]': [[0, 0, 0], [3, 1, 1]],
            '[\n\n]': [[0, 0, 0], [4, 2, 1]],
        };
        const errors = [
            '[',
            '[,]',
            '[0,]',
            '[,0]',
        ];
        for (const [n, [start, end, text]] of entries(strings)) {
            it(`works for ${JSON.stringify(n)}`, () => {
                const ast = parser_1.parseJsonAst(n);
                expect(ast.kind).toBe('array');
                expect(ast.start).toEqual({ offset: start[0], line: start[1], character: start[2] });
                expect(ast.end).toEqual({ offset: end[0], line: end[1], character: end[2] });
                expect(ast.value).toEqual(JSON.parse(n));
                expect(parser_1.parseJson(n)).toEqual(JSON.parse(n));
                expect(ast.text).toBe(text === undefined ? n : text);
            });
        }
        for (const n of errors) {
            it(`errors for ${JSON.stringify(n)}`, () => {
                expect(() => parser_1.parseJsonAst(n)).toThrow();
                expect(() => parser_1.parseJson(n)).toThrow();
                expect(() => JSON.parse(n)).toThrow();
            });
        }
    });
    describe('objects', () => {
        const strings = {
            '{}': [[0, 0, 0], [2, 0, 2]],
            '{\n}': [[0, 0, 0], [3, 1, 1]],
            '{"hello": "world"}': [[0, 0, 0], [18, 0, 18]],
            '{"hello": 0, "world": 1}': [[0, 0, 0], [24, 0, 24]],
            '{"hello": {"hello": {"hello": "world"}}}': [[0, 0, 0], [40, 0, 40]],
        };
        const errors = [
            '{',
            '{,}',
            '{"hello": 0',
        ];
        for (const [n, [start, end, text]] of entries(strings)) {
            it(`works for ${JSON.stringify(n)}`, () => {
                const ast = parser_1.parseJsonAst(n);
                expect(ast.kind).toBe('object');
                expect(ast.start).toEqual({ offset: start[0], line: start[1], character: start[2] });
                expect(ast.end).toEqual({ offset: end[0], line: end[1], character: end[2] });
                expect(ast.value).toEqual(JSON.parse(n));
                expect(parser_1.parseJson(n)).toEqual(JSON.parse(n));
                expect(ast.text).toBe(text === undefined ? n : text);
            });
        }
        for (const n of errors) {
            it(`errors for ${JSON.stringify(n)}`, () => {
                expect(() => parser_1.parseJsonAst(n)).toThrow();
                expect(() => parser_1.parseJson(n)).toThrow();
                expect(() => JSON.parse(n)).toThrow();
            });
        }
    });
    describe('loose', () => {
        const strings = {
            '{\'hello\': 0}': [[0, 0, 0], [12, 0, 12], { 'hello': 0 }],
            '{hello: 0}': [[0, 0, 0], [10, 0, 10], { hello: 0 }],
            '{1: 0}': [[0, 0, 0], [6, 0, 6], { 1: 0 }],
            '{hello\n:/**/ 0}': [[0, 0, 0], [15, 1, 8], { hello: 0 }],
            '{\n// hello\n}': [[0, 0, 0], [12, 2, 1], {}],
            '{\n/* hello\n*/ }': [[0, 0, 0], [15, 2, 4], {}],
            '{}//  ': [[0, 0, 0], [2, 0, 2], {}, '{}'],
            '{}//': [[0, 0, 0], [2, 0, 2], {}, '{}'],
            '{hello:0,}': [[0, 0, 0], [10, 0, 10], { hello: 0 }],
            '{hello:0/**/,}': [[0, 0, 0], [14, 0, 14], { hello: 0 }],
            '{hello:0,/**/}': [[0, 0, 0], [14, 0, 14], { hello: 0 }],
            '{hi:["hello",]}': [[0, 0, 0], [15, 0, 15], { hi: ['hello'] }],
            '{hi:["hello",/* */]}': [[0, 0, 0], [20, 0, 20], { hi: ['hello'] }],
            '{hi:["hello"/* */,]}': [[0, 0, 0], [20, 0, 20], { hi: ['hello'] }],
            '{hi:["hello" , ] , }': [[0, 0, 0], [20, 0, 20], { hi: ['hello'] }],
        };
        const errors = [
            '{1b: 0}',
            ' /*',
            '',
        ];
        for (const [n, [start, end, value, text]] of entries(strings)) {
            it(`works for ${JSON.stringify(n)}`, () => {
                const ast = parser_1.parseJsonAst(n, parser_1.JsonParseMode.Loose);
                expect(ast.kind).toBe('object');
                expect(ast.start).toEqual({ offset: start[0], line: start[1], character: start[2] });
                expect(ast.end).toEqual({ offset: end[0], line: end[1], character: end[2] });
                expect(ast.value).toEqual(value);
                expect(parser_1.parseJson(n, parser_1.JsonParseMode.Loose)).toEqual(value);
                expect(ast.text).toBe(text === undefined ? n : text);
            });
        }
        for (const n of errors) {
            it(`errors for ${JSON.stringify(n)}`, () => {
                expect(() => parser_1.parseJsonAst(n, parser_1.JsonParseMode.Loose)).toThrow();
                expect(() => parser_1.parseJson(n, parser_1.JsonParseMode.Loose)).toThrow();
                expect(() => JSON.parse(n)).toThrow();
            });
        }
    });
    describe('complex', () => {
        it('strips comments', () => {
            expect(parser_1.parseJson(`
        // THIS IS A COMMENT
        {
          /* THIS IS ALSO A COMMENT */ // IGNORED BECAUSE COMMENT
          // AGAIN, COMMENT /* THIS SHOULD NOT BE WEIRD
          "a": "this // should not be a comment",
          "a2": "this /* should also not be a comment",
          /* MULTIPLE
             LINE
             COMMENT
             \o/ */
          "b" /* COMMENT */: /* YOU GUESSED IT */ 1 // COMMENT
          , /* STILL VALID */
          "c": 2
        }
      `, parser_1.JsonParseMode.Loose)).toEqual({
                a: 'this // should not be a comment',
                a2: 'this /* should also not be a comment',
                b: 1,
                c: 2,
            });
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2VyX3NwZWMuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2VybmllZGF2aXMvQ29kZS9hbmd1bGFyLWNsaS8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL2FuZ3VsYXJfZGV2a2l0L2NvcmUvc3JjL2pzb24vcGFyc2VyX3NwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7O0dBTUc7QUFDSCxpQ0FBaUM7QUFDakMscUNBQWtFO0FBR2xFLHdCQUF3QjtBQUN4QixpQkFBaUIsQ0FBdUI7SUFDdEMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUMsQ0FBQztBQUdELFFBQVEsQ0FBQyw0QkFBNEIsRUFBRSxHQUFHLEVBQUU7SUFDMUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUU7UUFDdkIsTUFBTSxPQUFPLEdBQUcsRUFDZixDQUFDO1FBQ0YsTUFBTSxNQUFNLEdBQUc7WUFDYixFQUFFO1lBQ0YsNkJBQTZCO1NBQzlCLENBQUM7UUFFRixLQUFLLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ3RELEVBQUUsQ0FBQyxhQUFhLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUU7Z0JBQ3hDLE1BQU0sR0FBRyxHQUFHLHFCQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFB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LEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUMsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDO1lBQ3hELFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFDLENBQUM7WUFDbEQsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQztZQUN4QyxrQkFBa0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFDLENBQUM7WUFDdkQsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUM3QyxtQkFBbUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ2hELFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQztZQUMxQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxF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QztnQkFDSixDQUFDLEVBQUUsQ0FBQzthQUNMLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIHRzbGludDpkaXNhYmxlOm5vLWJpZy1mdW5jdGlvblxuaW1wb3J0IHsgSnNvblBhcnNlTW9kZSwgcGFyc2VKc29uLCBwYXJzZUpzb25Bc3QgfSBmcm9tICcuL3BhcnNlcic7XG5cblxuLy8gTm9kZSA2IGNvbXBhdGliaWxpdHkuXG5mdW5jdGlvbiBlbnRyaWVzKHg6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogYW55IHsgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYW55XG4gIHJldHVybiBPYmplY3Qua2V5cyh4KS5tYXAoayA9PiBbaywgeFtrXV0pO1xufVxuXG5cbmRlc2NyaWJlKCdwYXJzZUpzb24gYW5kIHBhcnNlSnNvbkFzdCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJ2dlbmVyaWMnLCAoKSA9PiB7XG4gICAgY29uc3QgbnVtYmVycyA9IHtcbiAgICB9O1xuICAgIGNvbnN0IGVycm9ycyA9IFtcbiAgICAgICcnLFxuICAgICAgJy1hYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicsXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgW24sIFtzdGFydCwgZW5kLCB0ZXh0XV0gb2YgZW50cmllcyhudW1iZXJzKSkge1xuICAgICAgaXQoYHdvcmtzIGZvciAke0pTT04uc3RyaW5naWZ5KG4pfWAsICgpID0+IHtcbiAgICAgICAgY29uc3QgYXN0ID0gcGFyc2VKc29uQXN0KG4pO1xuICAgICAgICBleHBlY3QoYXN0LnN0YXJ0KS50b0VxdWFsKHtvZmZzZXQ6IHN0YXJ0WzBdLCBsaW5lOiBzdGFydFsxXSwgY2hhcmFjdGVyOiBzdGFydFsyXX0pO1xuICAgICAgICBleHBlY3QoYXN0LmVuZCkudG9FcXVhbCh7b2Zmc2V0OiBlbmRbMF0sIGxpbmU6IGVuZFsxXSwgY2hhcmFjdGVyOiBlbmRbMl19KTtcbiAgICAgICAgZXhwZWN0KGFzdC52YWx1ZSkudG9FcXVhbChKU09OLnBhcnNlKG4pKTtcbiAgICAgICAgZXhwZWN0KHBhcnNlSnNvbihuKSkudG9FcXVhbChKU09OLnBhcnNlKG4pKTtcbiAgICAgICAgZXhwZWN0KGFzdC50ZXh0KS50b0JlKHRleHQgPT09IHVuZGVmaW5lZCA/IG4gOiB0ZXh0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgbiBvZiBlcnJvcnMpIHtcbiAgICAgIGl0KGBlcnJvcnMgZm9yICR7SlNPTi5zdHJpbmdpZnkobil9YCwgKCkgPT4ge1xuICAgICAgICBleHBlY3QoKCkgPT4gcGFyc2VKc29uQXN0KG4pKS50b1Rocm93KCk7XG4gICAgICAgIGV4cGVjdCgoKSA9PiBwYXJzZUpzb24obikpLnRvVGhyb3coKTtcbiAgICAgICAgZXhwZWN0KCgpID0+IEpTT04ucGFyc2UobikpLnRvVGhyb3coKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ251bWJlcnMnLCAoKSA9PiB7XG4gICAgY29uc3QgbnVtYmVycyA9IHtcbiAgICAgICcxMjM0JzogW1swLCAwLCAwXSwgWzQsIDAsIDRdXSxcbiAgICAgICcxMkUzNCc6IFtbMCwgMCwgMF0sIFs1LCAwLCA1XV0sXG4gICAgICAnMTJFKzQnOiBbWzAsIDAsIDBdLCBbNSwgMCwgNV1dLFxuICAgICAgJzEyRS00JzogW1swLCAwLCAwXSwgWzUsIDAsIDVdXSxcbiAgICAgICcxMkUtMDAwNCc6IFtbMCwgMCwgMF0sIFs4LCAwLCA4XV0sXG4gICAgICAnICAgMTIzNCAgICc6IFtbMywgMCwgM10sIFs3LCAwLCA3XSwgJzEyMzQnXSxcbiAgICAgICdcXHIxMjM0XFx0JzogW1sxLCAwLCAxXSwgWzUsIDAsIDVdLCAnMTIzNCddLFxuICAgICAgJ1xcbjEyMzRcXG4nOiBbWzEsIDEsIDBdLCBbNSwgMSwgNF0sICcxMjM0J10sXG4gICAgICAnMC4xMjMnOiBbWzAsIDAsIDBdLCBbNSwgMCwgNV1dLFxuICAgICAgJzAnOiBbWzAsIDAsIDBdLCBbMSwgMCwgMV1dLFxuICAgICAgJ1xcblxcblxcblxcblxcbjAnOiBbWzUsIDUsIDBdLCBbNiwgNSwgMV0sICcwJ10sXG4gICAgfTtcbiAgICBjb25zdCBlcnJvcnMgPSBbXG4gICAgICAnMDAwJyxcbiAgICAgICcwMScsXG4gICAgICAnMUUxKzEnLFxuICAgICAgJy0tJyxcbiAgICAgICcwLTAnLFxuICAgICAgJy0wLTAnLFxuICAgICAgJzAuMC4wJyxcbiAgICAgICcwXFxuLjBcXG4uMCcsXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgW24sIFtzdGFydCwgZW5kLCB0ZXh0XV0gb2YgZW50cmllcyhudW1iZXJzKSkge1xuICAgICAgaXQoYHdvcmtzIGZvciAke0pTT04uc3RyaW5naWZ5KG4pfWAsICgpID0+IHtcbiAgICAgICAgY29uc3QgYXN0ID0gcGFyc2VKc29uQXN0KG4pO1xuICAgICAgICBleHBlY3QoYXN0LmtpbmQpLnRvQmUoJ251bWJlcicpO1xuICAgICAgICBleHBlY3QoYXN0LnN0YXJ0KS50b0VxdWFsKHtvZmZzZXQ6IHN0YXJ0WzBdLCBsaW5lOiBzdGFydFsxXSwgY2hhcmFjdGVyOiBzdGFydFsyXX0pO1xuICAgICAgICBleHBlY3QoYXN0LmVuZCkudG9FcXVhbCh7b2Zmc2V0OiBlbmRbMF0sIGxpbmU6IGVuZFsxXSwgY2hhcmFjdGVyOiBlbmRbMl19KTtcbiAgICAgICAgZXhwZWN0KGFzdC52YWx1ZSkudG9FcXVhbChKU09OLnBhcnNlKG4pKTtcbiAgICAgICAgZXhwZWN0KHBhcnNlSnNvbihuKSkudG9FcXVhbChKU09OLnBhcnNlKG4pKTtcbiAgICAgICAgZXhwZWN0KGFzdC50ZXh0KS50b0JlKHRleHQgPT09IHVuZGVmaW5lZCA/IG4gOiB0ZXh0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgbiBvZiBlcnJvcnMpIHtcbiAgICAgIGl0KGBlcnJvcnMgZm9yICR7SlNPTi5zdHJpbmdpZnkobil9YCwgKCkgPT4ge1xuICAgICAgICBleHBlY3QoKCkgPT4gcGFyc2VKc29uQXN0KG4pKS50b1Rocm93KCk7XG4gICAgICAgIGV4cGVjdCgoKSA9PiBwYXJzZUpzb24obikpLnRvVGhyb3coKTtcbiAgICAgICAgZXhwZWN0KCgpID0+IEpTT04ucGFyc2UobikpLnRvVGhyb3coKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3N0cmluZ3MnLCAoKSA9PiB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IHtcbiAgICAgICdcIlwiJzogW1swLCAwLCAwXSwgWzIsIDAsIDJdXSxcbiAgICAgICdcImhlbGxvXCInOiBbWzAsIDAsIDBdLCBbNywgMCwgN11dLFxuICAgICAgJ1wiYVxcXFxuYlwiJzogW1swLCAwLCAwXSwgWzYsIDAsIDZdXSxcbiAgICAgICdcImFcXFxcbmJcXFxcdGNcXFxccmRcXFxcXFxcXGVcXFxcL2ZcXFxcXFxcImdcXFxcYmhcXFxcZmlcIic6IFtbMCwgMCwgMF0sIFsyNywgMCwgMjddXSxcbiAgICAgICdcImFcXFxcdTEyMzRiXCInOiBbWzAsIDAsIDBdLCBbMTAsIDAsIDEwXV0sXG4gICAgfTtcbiAgICBjb25zdCBlcnJvcnMgPSBbXG4gICAgICAnXCJcXFxcelwiJyxcbiAgICAgICdcXCdoZWxsb1xcJycsXG4gICAgICAnXCJcXFxcJyxcbiAgICAgICdcImFcXFxcemJcIicsXG4gICAgICAnXCJhJyxcbiAgICAgICdcImFcXG5iXCInLFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IFtuLCBbc3RhcnQsIGVuZCwgdGV4dF1dIG9mIGVudHJpZXMoc3RyaW5ncykpIHtcbiAgICAgIGl0KGB3b3JrcyBmb3IgJHtKU09OLnN0cmluZ2lmeShuKX1gLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFzdCA9IHBhcnNlSnNvbkFzdChuKTtcbiAgICAgICAgZXhwZWN0KGFzdC5raW5kKS50b0JlKCdzdHJpbmcnKTtcbiAgICAgICAgZXhwZWN0KGFzdC5zdGFydCkudG9FcXVhbCh7b2Zmc2V0OiBzdGFydFswXSwgbGluZTogc3RhcnRbMV0sIGNoYXJhY3Rlcjogc3RhcnRbMl19KTtcbiAgICAgICAgZXhwZWN0KGFzdC5lbmQpLnRvRXF1YWwoe29mZnNldDogZW5kWzBdLCBsaW5lOiBlbmRbMV0sIGNoYXJhY3RlcjogZW5kWzJdfSk7XG4gICAgICAgIGV4cGVjdChhc3QudmFsdWUpLnRvRXF1YWwoSlNPTi5wYXJzZShuKSk7XG4gICAgICAgIGV4cGVjdChwYXJzZUpzb24obikpLnRvRXF1YWwoSlNPTi5wYXJzZShuKSk7XG4gICAgICAgIGV4cGVjdChhc3QudGV4dCkudG9CZSh0ZXh0ID09PSB1bmRlZmluZWQgPyBuIDogdGV4dCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IG4gb2YgZXJyb3JzKSB7XG4gICAgICBpdChgZXJyb3JzIGZvciAke0pTT04uc3RyaW5naWZ5KG4pfWAsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KCgpID0+IHBhcnNlSnNvbkFzdChuKSkudG9UaHJvdygpO1xuICAgICAgICBleHBlY3QoKCkgPT4gcGFyc2VKc29uKG4pKS50b1Rocm93KCk7XG4gICAgICAgIGV4cGVjdCgoKSA9PiBKU09OLnBhcnNlKG4pKS50b1Rocm93KCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjb25zdGFudHMnLCAoKSA9PiB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IHtcbiAgICAgICd0cnVlJzogWyd0cnVlJywgWzAsIDAsIDBdLCBbNCwgMCwgNF0sIHRydWVdLFxuICAgICAgJ2ZhbHNlJzogWydmYWxzZScsIFswLCAwLCAwXSwgWzUsIDAsIDVdLCBmYWxzZV0sXG4gICAgICAnbnVsbCc6IFsnbnVsbCcsIFswLCAwLCAwXSwgWzQsIDAsIDRdLCBudWxsXSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9ycyA9IFtcbiAgICAgICd1bmRlZmluZWQnLFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IFtuLCBba2luZCwgc3RhcnQsIGVuZCwgdmFsdWUsIHRleHRdXSBvZiBlbnRyaWVzKHN0cmluZ3MpKSB7XG4gICAgICBpdChgd29ya3MgZm9yICR7SlNPTi5zdHJpbmdpZnkobil9YCwgKCkgPT4ge1xuICAgICAgICBjb25zdCBhc3QgPSBwYXJzZUpzb25Bc3Qobik7XG4gICAgICAgIGV4cGVjdChhc3Qua2luZCkudG9CZShraW5kKTtcbiAgICAgICAgZXhwZWN0KGFzdC5zdGFydCkudG9FcXVhbCh7b2Zmc2V0OiBzdGFydFswXSwgbGluZTogc3RhcnRbMV0sIGNoYXJhY3Rlcjogc3RhcnRbMl19KTtcbiAgICAgICAgZXhwZWN0KGFzdC5lbmQpLnRvRXF1YWwoe29mZnNldDogZW5kWzBdLCBsaW5lOiBlbmRbMV0sIGNoYXJhY3RlcjogZW5kWzJdfSk7XG4gICAgICAgIGV4cGVjdChhc3QudmFsdWUpLnRvRXF1YWwodmFsdWUpO1xuICAgICAgICBleHBlY3QoYXN0LnRleHQpLnRvQmUodGV4dCA9PT0gdW5kZWZpbmVkID8gbiA6IHRleHQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBuIG9mIGVycm9ycykge1xuICAgICAgaXQoYGVycm9ycyBmb3IgJHtKU09OLnN0cmluZ2lmeShuKX1gLCAoKSA9PiB7XG4gICAgICAgIGV4cGVjdCgoKSA9PiBwYXJzZUpzb25Bc3QobikpLnRvVGhyb3coKTtcbiAgICAgICAgZXhwZWN0KCgpID0+IHBhcnNlSnNvbihuKSkudG9UaHJvdygpO1xuICAgICAgICBleHBlY3QoKCkgPT4gSlNPTi5wYXJzZShuKSkudG9UaHJvdygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBkZXNjcmliZSgnYXJyYXlzJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0cmluZ3MgPSB7XG4gICAgICAnWzAsMSwyLDNdJzogW1swLCAwLCAwXSwgWzksIDAsIDldXSxcbiAgICAgICdbWzBdLDEsMiwzXSc6IFtbMCwgMCwgMF0sIFsxMSwgMCwgMTFdXSxcbiAgICAgICdbMFxcbixcXG4xLDIsM10nOiBbWzAsIDAsIDBdLCBbMTEsIDIsIDZdXSxcbiAgICAgICdbXSc6IFtbMCwgMCwgMF0sIFsyLCAwLCAyXV0sXG4gICAgICAnXFxuW1xcbl1cXG4nOiBbWzEsIDEsIDBdLCBbNCwgMiwgMV0sICdbXFxuXSddLFxuICAgICAgJ1tcXG5dJzogW1swLCAwLCAwXSwgWzMsIDEsIDFdXSxcbiAgICAgICdbXFxuXFxuXSc6IFtbMCwgMCwgMF0sIFs0LCAyLCAxXV0sXG4gICAgfTtcbiAgICBjb25zdCBlcnJvcnMgPSBbXG4gICAgICAnWycsXG4gICAgICAnWyxdJyxcbiAgICAgICdbMCxdJyxcbiAgICAgICdbLDBdJyxcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBbbiwgW3N0YXJ0LCBlbmQsIHRleHRdXSBvZiBlbnRyaWVzKHN0cmluZ3MpKSB7XG4gICAgICBpdChgd29ya3MgZm9yICR7SlNPTi5zdHJpbmdpZnkobil9YCwgKCkgPT4ge1xuICAgICAgICBjb25zdCBhc3QgPSBwYXJzZUpzb25Bc3Qobik7XG4gICAgICAgIGV4cGVjdChhc3Qua2luZCkudG9CZSgnYXJyYXknKTtcbiAgICAgICAgZXhwZWN0KGFzdC5zdGFydCkudG9FcXVhbCh7b2Zmc2V0OiBzdGFydFswXSwgbGluZTogc3RhcnRbMV0sIGNoYXJhY3Rlcjogc3RhcnRbMl19KTtcbiAgICAgICAgZXhwZWN0KGFzdC5lbmQpLnRvRXF1YWwoe29mZnNldDogZW5kWzBdLCBsaW5lOiBlbmRbMV0sIGNoYXJhY3RlcjogZW5kWzJdfSk7XG4gICAgICAgIGV4cGVjdChhc3QudmFsdWUpLnRvRXF1YWwoSlNPTi5wYXJzZShuKSk7XG4gICAgICAgIGV4cGVjdChwYXJzZUpzb24obikpLnRvRXF1YWwoSlNPTi5wYXJzZShuKSk7XG4gICAgICAgIGV4cGVjdChhc3QudGV4dCkudG9CZSh0ZXh0ID09PSB1bmRlZmluZWQgPyBuIDogdGV4dCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IG4gb2YgZXJyb3JzKSB7XG4gICAgICBpdChgZXJyb3JzIGZvciAke0pTT04uc3RyaW5naWZ5KG4pfWAsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KCgpID0+IHBhcnNlSnNvbkFzdChuKSkudG9UaHJvdygpO1xuICAgICAgICBleHBlY3QoKCkgPT4gcGFyc2VKc29uKG4pKS50b1Rocm93KCk7XG4gICAgICAgIGV4cGVjdCgoKSA9PiBKU09OLnBhcnNlKG4pKS50b1Rocm93KCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdvYmplY3RzJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0cmluZ3MgPSB7XG4gICAgICAne30nOiBbWzAsIDAsIDBdLCBbMiwgMCwgMl1dLFxuICAgICAgJ3tcXG59JzogW1swLCAwLCAwXSwgWzMsIDEsIDFdXSxcbiAgICAgICd7XCJoZWxsb1wiOiBcIndvcmxkXCJ9JzogW1swLCAwLCAwXSwgWzE4LCAwLCAxOF1dLFxuICAgICAgJ3tcImhlbGxvXCI6IDAsIFwid29ybGRcIjogMX0nOiBbWzAsIDAsIDBdLCBbMjQsIDAsIDI0XV0sXG4gICAgICAne1wiaGVsbG9cIjoge1wiaGVsbG9cIjoge1wiaGVsbG9cIjogXCJ3b3JsZFwifX19JzogW1swLCAwLCAwXSwgWzQwLCAwLCA0MF1dLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JzID0gW1xuICAgICAgJ3snLFxuICAgICAgJ3ssfScsXG4gICAgICAne1wiaGVsbG9cIjogMCcsXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgW24sIFtzdGFydCwgZW5kLCB0ZXh0XV0gb2YgZW50cmllcyhzdHJpbmdzKSkge1xuICAgICAgaXQoYHdvcmtzIGZvciAke0pTT04uc3RyaW5naWZ5KG4pfWAsICgpID0+IHtcbiAgICAgICAgY29uc3QgYXN0ID0gcGFyc2VKc29uQXN0KG4pO1xuICAgICAgICBleHBlY3QoYXN0LmtpbmQpLnRvQmUoJ29iamVjdCcpO1xuICAgICAgICBleHBlY3QoYXN0LnN0YXJ0KS50b0VxdWFsKHtvZmZzZXQ6IHN0YXJ0WzBdLCBsaW5lOiBzdGFydFsxXSwgY2hhcmFjdGVyOiBzdGFydFsyXX0pO1xuICAgICAgICBleHBlY3QoYXN0LmVuZCkudG9FcXVhbCh7b2Zmc2V0OiBlbmRbMF0sIGxpbmU6IGVuZFsxXSwgY2hhcmFjdGVyOiBlbmRbMl19KTtcbiAgICAgICAgZXhwZWN0KGFzdC52YWx1ZSkudG9FcXVhbChKU09OLnBhcnNlKG4pKTtcbiAgICAgICAgZXhwZWN0KHBhcnNlSnNvbihuKSkudG9FcXVhbChKU09OLnBhcnNlKG4pKTtcbiAgICAgICAgZXhwZWN0KGFzdC50ZXh0KS50b0JlKHRleHQgPT09IHVuZGVmaW5lZCA/IG4gOiB0ZXh0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgbiBvZiBlcnJvcnMpIHtcbiAgICAgIGl0KGBlcnJvcnMgZm9yICR7SlNPTi5zdHJpbmdpZnkobil9YCwgKCkgPT4ge1xuICAgICAgICBleHBlY3QoKCkgPT4gcGFyc2VKc29uQXN0KG4pKS50b1Rocm93KCk7XG4gICAgICAgIGV4cGVjdCgoKSA9PiBwYXJzZUpzb24obikpLnRvVGhyb3coKTtcbiAgICAgICAgZXhwZWN0KCgpID0+IEpTT04ucGFyc2UobikpLnRvVGhyb3coKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2xvb3NlJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0cmluZ3MgPSB7XG4gICAgICAne1xcJ2hlbGxvXFwnOiAwfSc6IFtbMCwgMCwgMF0sIFsxMiwgMCwgMTJdLCB7J2hlbGxvJzogMH1dLFxuICAgICAgJ3toZWxsbzogMH0nOiBbWzAsIDAsIDBdLCBbMTAsIDAsIDEwXSwge2hlbGxvOiAwfV0sXG4gICAgICAnezE6IDB9JzogW1swLCAwLCAwXSwgWzYsIDAsIDZdLCB7MTogMH1dLFxuICAgICAgJ3toZWxsb1xcbjovKiovIDB9JzogW1swLCAwLCAwXSwgWzE1LCAxLCA4XSwge2hlbGxvOiAwfV0sXG4gICAgICAne1xcbi8vIGhlbGxvXFxufSc6IFtbMCwgMCwgMF0sIFsxMiwgMiwgMV0sIHt9XSxcbiAgICAgICd7XFxuLyogaGVsbG9cXG4qLyB9JzogW1swLCAwLCAwXSwgWzE1LCAyLCA0XSwge31dLFxuICAgICAgJ3t9Ly8gICc6IFtbMCwgMCwgMF0sIFsyLCAwLCAyXSwge30sICd7fSddLFxuICAgICAgJ3t9Ly8nOiBbWzAsIDAsIDBdLCBbMiwgMCwgMl0sIHt9LCAne30nXSxcbiAgICAgICd7aGVsbG86MCx9JzogW1swLCAwLCAwXSwgWzEwLCAwLCAxMF0sIHtoZWxsbzogMH1dLFxuICAgICAgJ3toZWxsbzowLyoqLyx9JzogW1swLCAwLCAwXSwgWzE0LCAwLCAxNF0sIHtoZWxsbzogMH1dLFxuICAgICAgJ3toZWxsbzowLC8qKi99JzogW1swLCAwLCAwXSwgWzE0LCAwLCAxNF0sIHtoZWxsbzogMH1dLFxuICAgICAgJ3toaTpbXCJoZWxsb1wiLF19JzogW1swLCAwLCAwXSwgWzE1LCAwLCAxNV0sIHtoaTogWydoZWxsbyddfV0sXG4gICAgICAne2hpOltcImhlbGxvXCIsLyogKi9dfSc6IFtbMCwgMCwgMF0sIFsyMCwgMCwgMjBdLCB7aGk6IFsnaGVsbG8nXX1dLFxuICAgICAgJ3toaTpbXCJoZWxsb1wiLyogKi8sXX0nOiBbWzAsIDAsIDBdLCBbMjAsIDAsIDIwXSwge2hpOiBbJ2hlbGxvJ119XSxcbiAgICAgICd7aGk6W1wiaGVsbG9cIiAsIF0gLCB9JzogW1swLCAwLCAwXSwgWzIwLCAwLCAyMF0sIHtoaTogWydoZWxsbyddfV0sXG4gICAgfTtcbiAgICBjb25zdCBlcnJvcnMgPSBbXG4gICAgICAnezFiOiAwfScsXG4gICAgICAnIC8qJyxcbiAgICAgICcnLFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IFtuLCBbc3RhcnQsIGVuZCwgdmFsdWUsIHRleHRdXSBvZiBlbnRyaWVzKHN0cmluZ3MpKSB7XG4gICAgICBpdChgd29ya3MgZm9yICR7SlNPTi5zdHJpbmdpZnkobil9YCwgKCkgPT4ge1xuICAgICAgICBjb25zdCBhc3QgPSBwYXJzZUpzb25Bc3QobiwgSnNvblBhcnNlTW9kZS5Mb29zZSk7XG4gICAgICAgIGV4cGVjdChhc3Qua2luZCkudG9CZSgnb2JqZWN0Jyk7XG4gICAgICAgIGV4cGVjdChhc3Quc3RhcnQpLnRvRXF1YWwoe29mZnNldDogc3RhcnRbMF0sIGxpbmU6IHN0YXJ0WzFdLCBjaGFyYWN0ZXI6IHN0YXJ0WzJdfSk7XG4gICAgICAgIGV4cGVjdChhc3QuZW5kKS50b0VxdWFsKHtvZmZzZXQ6IGVuZFswXSwgbGluZTogZW5kWzFdLCBjaGFyYWN0ZXI6IGVuZFsyXX0pO1xuICAgICAgICBleHBlY3QoYXN0LnZhbHVlKS50b0VxdWFsKHZhbHVlKTtcbiAgICAgICAgZXhwZWN0KHBhcnNlSnNvbihuLCBKc29uUGFyc2VNb2RlLkxvb3NlKSkudG9FcXVhbCh2YWx1ZSk7XG4gICAgICAgIGV4cGVjdChhc3QudGV4dCkudG9CZSh0ZXh0ID09PSB1bmRlZmluZWQgPyBuIDogdGV4dCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IG4gb2YgZXJyb3JzKSB7XG4gICAgICBpdChgZXJyb3JzIGZvciAke0pTT04uc3RyaW5naWZ5KG4pfWAsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KCgpID0+IHBhcnNlSnNvbkFzdChuLCBKc29uUGFyc2VNb2RlLkxvb3NlKSkudG9UaHJvdygpO1xuICAgICAgICBleHBlY3QoKCkgPT4gcGFyc2VKc29uKG4sIEpzb25QYXJzZU1vZGUuTG9vc2UpKS50b1Rocm93KCk7XG4gICAgICAgIGV4cGVjdCgoKSA9PiBKU09OLnBhcnNlKG4pKS50b1Rocm93KCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjb21wbGV4JywgKCkgPT4ge1xuICAgIGl0KCdzdHJpcHMgY29tbWVudHMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QocGFyc2VKc29uKGBcbiAgICAgICAgLy8gVEhJUyBJUyBBIENPTU1FTlRcbiAgICAgICAge1xuICAgICAgICAgIC8qIFRISVMgSVMgQUxTTyBBIENPTU1FTlQgKi8gLy8gSUdOT1JFRCBCRUNBVVNFIENPTU1FTlRcbiAgICAgICAgICAvLyBBR0FJTiwgQ09NTUVOVCAvKiBUSElTIFNIT1VMRCBOT1QgQkUgV0VJUkRcbiAgICAgICAgICBcImFcIjogXCJ0aGlzIC8vIHNob3VsZCBub3QgYmUgYSBjb21tZW50XCIsXG4gICAgICAgICAgXCJhMlwiOiBcInRoaXMgLyogc2hvdWxkIGFsc28gbm90IGJlIGEgY29tbWVudFwiLFxuICAgICAgICAgIC8qIE1VTFRJUExFXG4gICAgICAgICAgICAgTElORVxuICAgICAgICAgICAgIENPTU1FTlRcbiAgICAgICAgICAgICBcXG8vICovXG4gICAgICAgICAgXCJiXCIgLyogQ09NTUVOVCAqLzogLyogWU9VIEdVRVNTRUQgSVQgKi8gMSAvLyBDT01NRU5UXG4gICAgICAgICAgLCAvKiBTVElMTCBWQUxJRCAqL1xuICAgICAgICAgIFwiY1wiOiAyXG4gICAgICAgIH1cbiAgICAgIGAsIEpzb25QYXJzZU1vZGUuTG9vc2UpKS50b0VxdWFsKHtcbiAgICAgICAgYTogJ3RoaXMgLy8gc2hvdWxkIG5vdCBiZSBhIGNvbW1lbnQnLFxuICAgICAgICBhMjogJ3RoaXMgLyogc2hvdWxkIGFsc28gbm90IGJlIGEgY29tbWVudCcsXG4gICAgICAgIGI6IDEsXG4gICAgICAgIGM6IDIsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==
"use strict";
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@angular-devkit/architect/testing");
const core_1 = require("@angular-devkit/core");
const rxjs_1 = require("rxjs");
const operators_1 = require("rxjs/operators");
const utils_1 = require("../utils");
describe('Dev Server Builder ssl', () => {
    beforeEach(done => utils_1.host.initialize().toPromise().then(done, done.fail));
    afterEach(done => utils_1.host.restore().toPromise().then(done, done.fail));
    it('works', (done) => {
        const overrides = { ssl: true };
        testing_1.runTargetSpec(utils_1.host, utils_1.devServerTargetSpec, overrides).pipe(operators_1.tap((buildEvent) => expect(buildEvent.success).toBe(true)), operators_1.concatMap(() => rxjs_1.from(testing_1.request('https://localhost:4200/index.html'))), operators_1.tap(response => expect(response).toContain('<title>HelloWorldApp</title>')), operators_1.take(1)).toPromise().then(done, done.fail);
    }, 30000);
    it('supports key and cert', (done) => {
        utils_1.host.writeMultipleFiles({
            'ssl/server.key': core_1.tags.stripIndents `
        -----BEGIN RSA PRIVATE KEY-----
        MIIEpAIBAAKCAQEA0+kOHdfpsPNUguCtai27DJ+DuOfVw4gw1P3BgYhNG8qoukaW
        gdDLowj59+cXXgn9ZnQ8PdvZXhCEQcP3wjd1cBPuGQzO7BekoKEgzfGE/zjrrIeL
        Q7tHYx9ddCPotQX4OJu4FZFJyS1Ar7zDDpQ9fSw6qmsXWN6I18fIGSVvbDbVB9rw
        iAsLGe2jWadjXAjSqVOy6aT+CKJgnRnxudNZGP1LRC1YDRl/s7icCIh/9gEGfn7G
        gwQQ9AM2p3JNjP2quclSjBvMv0uVj+yzL2bPGRz0hu90CDaIEU2FtBCse50/O75q
        x0bQnPbuHKD3ajs0DfQYoAmFZGK078ZDl/VQxwIDAQABAoIBAEl17kXcNo/4GqDw
        QE2hoslCdwhfnhQVn1AG09ESriBnRcylccF4308aaoVM4CXicqzUuJl9IEJimWav
        B7GVRinfTtfyP71KiPCCSvv5sPBFDDYYGugVAS9UjTIYzLAMbLs7CDq5zglmnZkO
        Z9QjAZnl/kRbsZFGO8wJ3s0Q1Cp/ygZcvFU331K2jHXW7B4YXiFOH/lBQrjdz0Gy
        WBjX4zIdNWnwarvxu46IS/0z1P1YOHM8+B1Uv54MG94A6szBdd/Vp0cQRs78t/Cu
        BQ1Rnuk16Pi+ieC5K04yUgeuNusYW0PWLtPX1nKNp9z46bmD1NHKAxaoDFXr7qP3
        pZCaDMkCgYEA8mmTYrhXJTRIrOxoUwM1e3OZ0uOxVXJJ8HF6X8t+UO6dFxXB/JC9
        ZBc+94cZQapaKFOeMmd/j3L2CQIjChk5yKV/G3Io+raxIoAAKPCkMF4NQQVvvNkS
        CAGl61Qa78DoF5Habumz0AC1R9P877kNTC0aPSt4lhPWgfotbZNNMlMCgYEA38nM
        s4a0pZseXPkuOtPYX/3Ms3E+d70XKSFuIMCHCg79YGsQ8h/9apYcPyeYkpQ0a4gs
        I3IUqMaXC2OyqWA5LU1BZv51mXb6zcb2pokZfpiSWk+7sy5XjkE9EmQxp3xHfV3c
        EO/DxHfWNvtMjESMbhu0yVzM2O/Aa53Tl9lqAT0CgYEA1dXBuHyqCtyTG08zO78B
        55Ny5rAJ1zkI9jvz2hr0o0nJcvqzcyruliNXXRxkcCNoglg4nXfk81JSrGGhLSBR
        c6hhdoF+mqKboLZO7c5Q14WvpWK5TVoiaMOja/J2DHYbhecYS2yGPH7TargaUBDq
        JP9IPRtitOhs+Z0Jg7ZDi5cCgYAMb7B6gY/kbBxh2k8hYchyfS41AqQQD2gMFxmB
        pHFcs7yM8SY97l0s4S6sq8ykyKupFiYtyhcv0elu7pltJDXJOLPbv2RVpPEHInlu
        g8vw5xWrAydRK9Adza5RKVRBFHz8kIy8PDbK4kX7RDfay6xqKgv/7LJNk/VDhb/O
        fnyPmQKBgQDg/o8Ubf/gxA9Husnuld4DBu3wwFhkMlWqyO9QH3cKgojQ2JGSrfDz
        xHhetmhionEyzg0JCaMSpzgIHY+8o/NAwc++OjNHEoYp3XWM9GTp81ROMz6b83jV
        biVR9N0MhONdwF6vtzDCcJxNIUe2p4lTvLf/Xd9jaQDNXe35Gxsdyg==
        -----END RSA PRIVATE KEY-----
      `,
            'ssl/server.crt': core_1.tags.stripIndents `
        -----BEGIN CERTIFICATE-----
        MIID5jCCAs6gAwIBAgIJAJOebwfGCm61MA0GCSqGSIb3DQEBBQUAMFUxCzAJBgNV
        BAYTAlVTMRAwDgYDVQQIEwdHZW9yZ2lhMRAwDgYDVQQHEwdBdGxhbnRhMRAwDgYD
        VQQKEwdBbmd1bGFyMRAwDgYDVQQLEwdBbmd1bGFyMB4XDTE2MTAwNDAxMDAyMVoX
        DTI2MTAwMjAxMDAyMVowVTELMAkGA1UEBhMCVVMxEDAOBgNVBAgTB0dlb3JnaWEx
        EDAOBgNVBAcTB0F0bGFudGExEDAOBgNVBAoTB0FuZ3VsYXIxEDAOBgNVBAsTB0Fu
        Z3VsYXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDT6Q4d1+mw81SC
        4K1qLbsMn4O459XDiDDU/cGBiE0byqi6RpaB0MujCPn35xdeCf1mdDw929leEIRB
        w/fCN3VwE+4ZDM7sF6SgoSDN8YT/OOush4tDu0djH110I+i1Bfg4m7gVkUnJLUCv
        vMMOlD19LDqqaxdY3ojXx8gZJW9sNtUH2vCICwsZ7aNZp2NcCNKpU7LppP4IomCd
        GfG501kY/UtELVgNGX+zuJwIiH/2AQZ+fsaDBBD0Azanck2M/aq5yVKMG8y/S5WP
        7LMvZs8ZHPSG73QINogRTYW0EKx7nT87vmrHRtCc9u4coPdqOzQN9BigCYVkYrTv
        xkOX9VDHAgMBAAGjgbgwgbUwHQYDVR0OBBYEFG4VV6/aNLx/qFIS9MhAWuyeV5OX
        MIGFBgNVHSMEfjB8gBRuFVev2jS8f6hSEvTIQFrsnleTl6FZpFcwVTELMAkGA1UE
        BhMCVVMxEDAOBgNVBAgTB0dlb3JnaWExEDAOBgNVBAcTB0F0bGFudGExEDAOBgNV
        BAoTB0FuZ3VsYXIxEDAOBgNVBAsTB0FuZ3VsYXKCCQCTnm8HxgputTAMBgNVHRME
        BTADAQH/MA0GCSqGSIb3DQEBBQUAA4IBAQDO4jZT/oKVxaiWr+jV5TD+qwThl9zT
        Uw/ZpFDkdbZdY/baCFaLCiJwkK9+puMOabLvm1VzcnHHWCoiUNbWpw8AOumLEnTv
        ze/5OZXJ6XlA9kd9f3hDlN5zNB3S+Z2nKIrkPGfxQZ603QCbWaptip5dxgek6oDZ
        YXVtnbOnPznRsG5jh07U49RO8CNebqZLzdRToLgObbqYlfRMcbUxCOHXjnB5wUlp
        377Iivm4ldnCTvFOjEiDh+FByWL5xic7PjyJPZFMidiYTmsGilP9XTFC83CRZwz7
        vW+RCSlU6x8Uejz98BPmASoqCuCTUeOo+2pFelFhX9NwR/Sb6b7ybdPv
        -----END CERTIFICATE-----
      `,
        });
        const overrides = {
            ssl: true,
            sslKey: '../ssl/server.key',
            sslCert: '../ssl/server.crt',
        };
        testing_1.runTargetSpec(utils_1.host, utils_1.devServerTargetSpec, overrides).pipe(operators_1.tap((buildEvent) => expect(buildEvent.success).toBe(true)), operators_1.concatMap(() => rxjs_1.from(testing_1.request('https://localhost:4200/index.html'))), operators_1.tap(response => expect(response).toContain('<title>HelloWorldApp</title>')), operators_1.take(1)).toPromise().then(done, done.fail);
    }, 30000);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3NsX3NwZWNfbGFyZ2UuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2VybmllZGF2aXMvQ29kZS9hbmd1bGFyLWNsaS8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL2FuZ3VsYXJfZGV2a2l0L2J1aWxkX2FuZ3VsYXIvdGVzdC9kZXYtc2VydmVyL3NzbF9zcGVjX2xhcmdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7O0dBTUc7O0FBRUgsK0RBQTJFO0FBQzNFLCtDQUE0QztBQUM1QywrQkFBNEI7QUFDNUIsOENBQXNEO0FBRXRELG9DQUFxRDtBQUdyRCxRQUFRLENBQUMsd0JBQXdCLEVBQUUsR0FBRyxFQUFFO0lBQ3RDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRXBFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUNuQixNQUFNLFNBQVMsR0FBcUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUM7UUFFbEUsdUJBQWEsQ0FBQyxZQUFJLEVBQUUsMkJBQW1CLEVBQUUsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUN0RCxlQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQzFELHFCQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsV0FBSSxDQUFDLGlCQUFPLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDLEVBQ25FLGVBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTLENBQUMsOEJBQThCLENBQUMsQ0FBQyxFQUMzRSxnQkFBSSxDQUFDLENBQUMsQ0FBQyxDQUNSLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRVYsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDbkMsWUFBSSxDQUFDLGtCQUFrQixDQUFDO1lBQ3RCLGdCQUFnQixFQUFFLFdBQUksQ0FBQyxZQUFZLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0E0QmxDO1lBQ0QsZ0JBQWdCLEVBQUUsV0FBSSxDQUFDLFlBQVksQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09Bd0JsQztTQUNGLENBQUMsQ0FBQztRQUVILE1BQU0sU0FBUyxHQUFxQztZQUNsRCxHQUFHLEVBQUUsSUFBSTtZQUNULE1BQU0sRUFBRSxtQkFBbUI7WUFDM0IsT0FBTyxFQUFFLG1CQUFtQjtTQUM3QixDQUFDO1FBRUYsdUJBQWEsQ0FBQyxZQUFJLEVBQUUsMkJBQW1CLEVBQUUsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUN0RCxlQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQzFELHFCQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsV0FBSSxDQUFDLGlCQUFPLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDLEVBQ25FLGVBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTLENBQUMsOEJBQThCLENBQUMsQ0FBQyxFQUMzRSxnQkFBSSxDQUFDLENBQUMsQ0FBQyxDQUNSLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ1osQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbmltcG9ydCB7IHJlcXVlc3QsIHJ1blRhcmdldFNwZWMgfSBmcm9tICdAYW5ndWxhci1kZXZraXQvYXJjaGl0ZWN0L3Rlc3RpbmcnO1xuaW1wb3J0IHsgdGFncyB9IGZyb20gJ0Bhbmd1bGFyLWRldmtpdC9jb3JlJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGNvbmNhdE1hcCwgdGFrZSwgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgRGV2U2VydmVyQnVpbGRlck9wdGlvbnMgfSBmcm9tICcuLi8uLi9zcmMnO1xuaW1wb3J0IHsgZGV2U2VydmVyVGFyZ2V0U3BlYywgaG9zdCB9IGZyb20gJy4uL3V0aWxzJztcblxuXG5kZXNjcmliZSgnRGV2IFNlcnZlciBCdWlsZGVyIHNzbCcsICgpID0+IHtcbiAgYmVmb3JlRWFjaChkb25lID0+IGhvc3QuaW5pdGlhbGl6ZSgpLnRvUHJvbWlzZSgpLnRoZW4oZG9uZSwgZG9uZS5mYWlsKSk7XG4gIGFmdGVyRWFjaChkb25lID0+IGhvc3QucmVzdG9yZSgpLnRvUHJvbWlzZSgpLnRoZW4oZG9uZSwgZG9uZS5mYWlsKSk7XG5cbiAgaXQoJ3dvcmtzJywgKGRvbmUpID0+IHtcbiAgICBjb25zdCBvdmVycmlkZXM6IFBhcnRpYWw8RGV2U2VydmVyQnVpbGRlck9wdGlvbnM+ID0geyBzc2w6IHRydWUgfTtcblxuICAgIHJ1blRhcmdldFNwZWMoaG9zdCwgZGV2U2VydmVyVGFyZ2V0U3BlYywgb3ZlcnJpZGVzKS5waXBlKFxuICAgICAgdGFwKChidWlsZEV2ZW50KSA9PiBleHBlY3QoYnVpbGRFdmVudC5zdWNjZXNzKS50b0JlKHRydWUpKSxcbiAgICAgIGNvbmNhdE1hcCgoKSA9PiBmcm9tKHJlcXVlc3QoJ2h0dHBzOi8vbG9jYWxob3N0OjQyMDAvaW5kZXguaHRtbCcpKSksXG4gICAgICB0YXAocmVzcG9uc2UgPT4gZXhwZWN0KHJlc3BvbnNlKS50b0NvbnRhaW4oJzx0aXRsZT5IZWxsb1dvcmxkQXBwPC90aXRsZT4nKSksXG4gICAgICB0YWtlKDEpLFxuICAgICkudG9Qcm9taXNlKCkudGhlbihkb25lLCBkb25lLmZhaWwpO1xuICB9LCAzMDAwMCk7XG5cbiAgaXQoJ3N1cHBvcnRzIGtleSBhbmQgY2VydCcsIChkb25lKSA9PiB7XG4gICAgaG9zdC53cml0ZU11bHRpcGxlRmlsZXMoe1xuICAgICAgJ3NzbC9zZXJ2ZXIua2V5JzogdGFncy5zdHJpcEluZGVudHNgXG4gICAgICAgIC0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS1cbiAgICAgICAgTUlJRXBBSUJBQUtDQVFFQTAra09IZGZwc1BOVWd1Q3RhaTI3REorRHVPZlZ3NGd3MVAzQmdZaE5HOHFvdWthV1xuICAgICAgICBnZERMb3dqNTkrY1hYZ245Wm5ROFBkdlpYaENFUWNQM3dqZDFjQlB1R1F6TzdCZWtvS0VnemZHRS96anJySWVMXG4gICAgICAgIFE3dEhZeDlkZENQb3RRWDRPSnU0RlpGSnlTMUFyN3pERHBROWZTdzZxbXNYV042STE4ZklHU1Z2YkRiVkI5cndcbiAgICAgICAgaUFzTEdlMmpXYWRqWEFqU3FWT3k2YVQrQ0tKZ25Sbnh1ZE5aR1AxTFJDMVlEUmwvczdpY0NJaC85Z0VHZm43R1xuICAgICAgICBnd1FROUFNMnAzSk5qUDJxdWNsU2pCdk12MHVWait5ekwyYlBHUnowaHU5MENEYUlFVTJGdEJDc2U1MC9PNzVxXG4gICAgICAgIHgwYlFuUGJ1SEtEM2FqczBEZlFZb0FtRlpHSzA3OFpEbC9WUXh3SURBUUFCQW9JQkFFbDE3a1hjTm8vNEdxRHdcbiAgICAgICAgUUUyaG9zbENkd2hmbmhRVm4xQUcwOUVTcmlCblJjeWxjY0Y0MzA4YWFvVk00Q1hpY3F6VXVKbDlJRUppbVdhdlxuICAgICAgICBCN0dWUmluZlR0ZnlQNzFLaVBDQ1N2djVzUEJGRERZWUd1Z1ZBUzlValRJWXpMQU1iTHM3Q0RxNXpnbG1uWmtPXG4gICAgICAgIFo5UWpBWm5sL2tSYnNaRkdPOHdKM3MwUTFDcC95Z1pjdkZVMzMxSzJqSFhXN0I0WVhpRk9IL2xCUXJqZHowR3lcbiAgICAgICAgV0JqWDR6SWROV253YXJ2eHU0NklTLzB6MVAxWU9ITTgrQjFVdjU0TUc5NEE2c3pCZGQvVnAwY1FSczc4dC9DdVxuICAgICAgICBCUTFSbnVrMTZQaStpZUM1SzA0eVVnZXVOdXNZVzBQV0x0UFgxbktOcDl6NDZibUQxTkhLQXhhb0RGWHI3cVAzXG4gICAgICAgIHBaQ2FETWtDZ1lFQThtbVRZcmhYSlRSSXJPeG9Vd00xZTNPWjB1T3hWWEpKOEhGNlg4dCtVTzZkRnhYQi9KQzlcbiAgICAgICAgWkJjKzk0Y1pRYXBhS0ZPZU1tZC9qM0wyQ1FJakNoazV5S1YvRzNJbytyYXhJb0FBS1BDa01GNE5RUVZ2dk5rU1xuICAgICAgICBDQUdsNjFRYTc4RG9GNUhhYnVtejBBQzFSOVA4NzdrTlRDMGFQU3Q0bGhQV2dmb3RiWk5OTWxNQ2dZRUEzOG5NXG4gICAgICAgIHM0YTBwWnNlWFBrdU90UFlYLzNNczNFK2Q3MFhLU0Z1SU1DSENnNzlZR3NROGgvOWFwWWNQeWVZa3BRMGE0Z3NcbiAgICAgICAgSTNJVXFNYVhDMk95cVdBNUxVMUJadjUxbVhiNnpjYjJwb2taZnBpU1drKzdzeTVYamtFOUVtUXhwM3hIZlYzY1xuICAgICAgICBFTy9EeEhmV052dE1qRVNNYmh1MHlWek0yTy9BYTUzVGw5bHFBVDBDZ1lFQTFkWEJ1SHlxQ3R5VEcwOHpPNzhCXG4gICAgICAgIDU1Tnk1ckFKMXprSTlqdnoyaHIwbzBuSmN2cXpjeXJ1bGlOWFhSeGtjQ05vZ2xnNG5YZms4MUpTckdHaExTQlJcbiAgICAgICAgYzZoaGRvRittcUtib0xaTzdjNVExNFd2cFdLNVRWb2lhTU9qYS9KMkRIWWJoZWNZUzJ5R1BIN1RhcmdhVUJEcVxuICAgICAgICBKUDlJUFJ0aXRPaHMrWjBKZzdaRGk1Y0NnWUFNYjdCNmdZL2tiQnhoMms4aFljaHlmUzQxQXFRUUQyZ01GeG1CXG4gICAgICAgIHBIRmNzN3lNOFNZOTdsMHM0UzZzcTh5a3lLdXBGaVl0eWhjdjBlbHU3cGx0SkRYSk9MUGJ2MlJWcFBFSElubHVcbiAgICAgICAgZzh2dzV4V3JBeWRSSzlBZHphNVJLVlJCRkh6OGtJeThQRGJLNGtYN1JEZmF5NnhxS2d2LzdMSk5rL1ZEaGIvT1xuICAgICAgICBmbnlQbVFLQmdRRGcvbzhVYmYvZ3hBOUh1c251bGQ0REJ1M3d3RmhrTWxXcXlPOVFIM2NLZ29qUTJKR1NyZkR6XG4gICAgICAgIHhIaGV0bWhpb25FeXpnMEpDYU1TcHpnSUhZKzhvL05Bd2MrK09qTkhFb1lwM1hXTTlHVHA4MVJPTXo2YjgzalZcbiAgICAgICAgYmlWUjlOME1oT05kd0Y2dnR6RENjSnhOSVVlMnA0bFR2TGYvWGQ5amFRRE5YZTM1R3hzZHlnPT1cbiAgICAgICAgLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS1cbiAgICAgIGAsXG4gICAgICAnc3NsL3NlcnZlci5jcnQnOiB0YWdzLnN0cmlwSW5kZW50c2BcbiAgICAgICAgLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tXG4gICAgICAgIE1JSUQ1akNDQXM2Z0F3SUJBZ0lKQUpPZWJ3ZkdDbTYxTUEwR0NTcUdTSWIzRFFFQkJRVUFNRlV4Q3pBSkJnTlZcbiAgICAgICAgQkFZVEFsVlRNUkF3RGdZRFZRUUlFd2RIWlc5eVoybGhNUkF3RGdZRFZRUUhFd2RCZEd4aGJuUmhNUkF3RGdZRFxuICAgICAgICBWUVFLRXdkQmJtZDFiR0Z5TVJBd0RnWURWUVFMRXdkQmJtZDFiR0Z5TUI0WERURTJNVEF3TkRBeE1EQXlNVm9YXG4gICAgICAgIERUSTJNVEF3TWpBeE1EQXlNVm93VlRFTE1Ba0dBMVVFQmhNQ1ZWTXhFREFPQmdOVkJBZ1RCMGRsYjNKbmFXRXhcbiAgICAgICAgRURBT0JnTlZCQWNUQjBGMGJHRnVkR0V4RURBT0JnTlZCQW9UQjBGdVozVnNZWEl4RURBT0JnTlZCQXNUQjBGdVxuICAgICAgICBaM1ZzWVhJd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURUNlE0ZDErbXc4MVNDXG4gICAgICAgIDRLMXFMYnNNbjRPNDU5WERpRERVL2NHQmlFMGJ5cWk2UnBhQjBNdWpDUG4zNXhkZUNmMW1kRHc5MjlsZUVJUkJcbiAgICAgICAgdy9mQ04zVndFKzRaRE03c0Y2U2dvU0ROOFlUL09PdXNoNHREdTBkakgxMTBJK2kxQmZnNG03Z1ZrVW5KTFVDdlxuICAgICAgICB2TU1PbEQxOUxEcXFheGRZM29qWHg4Z1pKVzlzTnRVSDJ2Q0lDd3NaN2FOWnAyTmNDTktwVTdMcHBQNElvbUNkXG4gICAgICAgIEdmRzUwMWtZL1V0RUxWZ05HWCt6dUp3SWlILzJBUVorZnNhREJCRDBBemFuY2syTS9hcTV5VktNRzh5L1M1V1BcbiAgICAgICAgN0xNdlpzOFpIUFNHNzNRSU5vZ1JUWVcwRUt4N25UODd2bXJIUnRDYzl1NGNvUGRxT3pRTjlCaWdDWVZrWXJUdlxuICAgICAgICB4a09YOVZESEFnTUJBQUdqZ2Jnd2diVXdIUVlEVlIwT0JCWUVGRzRWVjYvYU5MeC9xRklTOU1oQVd1eWVWNU9YXG4gICAgICAgIE1JR0ZCZ05WSFNNRWZqQjhnQlJ1RlZldjJqUzhmNmhTRXZUSVFGcnNubGVUbDZGWnBGY3dWVEVMTUFrR0ExVUVcbiAgICAgICAgQmhNQ1ZWTXhFREFPQmdOVkJBZ1RCMGRsYjNKbmFXRXhFREFPQmdOVkJBY1RCMEYwYkdGdWRHRXhFREFPQmdOVlxuICAgICAgICBCQW9UQjBGdVozVnNZWEl4RURBT0JnTlZCQXNUQjBGdVozVnNZWEtDQ1FDVG5tOEh4Z3B1dFRBTUJnTlZIUk1FXG4gICAgICAgIEJUQURBUUgvTUEwR0NTcUdTSWIzRFFFQkJRVUFBNElCQVFETzRqWlQvb0tWeGFpV3IralY1VEQrcXdUaGw5elRcbiAgICAgICAgVXcvWnBGRGtkYlpkWS9iYUNGYUxDaUp3a0s5K3B1TU9hYkx2bTFWemNuSEhXQ29pVU5iV3B3OEFPdW1MRW5UdlxuICAgICAgICB6ZS81T1pYSjZYbEE5a2Q5ZjNoRGxONXpOQjNTK1oybktJcmtQR2Z4UVo2MDNRQ2JXYXB0aXA1ZHhnZWs2b0RaXG4gICAgICAgIFlYVnRuYk9uUHpuUnNHNWpoMDdVNDlSTzhDTmVicVpMemRSVG9MZ09iYnFZbGZSTWNiVXhDT0hYam5CNXdVbHBcbiAgICAgICAgMzc3SWl2bTRsZG5DVHZGT2pFaURoK0ZCeVdMNXhpYzdQanlKUFpGTWlkaVlUbXNHaWxQOVhURkM4M0NSWnd6N1xuICAgICAgICB2VytSQ1NsVTZ4OFVlano5OEJQbUFTb3FDdUNUVWVPbysycEZlbEZoWDlOd1IvU2I2Yjd5YmRQdlxuICAgICAgICAtLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tXG4gICAgICBgLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgb3ZlcnJpZGVzOiBQYXJ0aWFsPERldlNlcnZlckJ1aWxkZXJPcHRpb25zPiA9IHtcbiAgICAgIHNzbDogdHJ1ZSxcbiAgICAgIHNzbEtleTogJy4uL3NzbC9zZXJ2ZXIua2V5JyxcbiAgICAgIHNzbENlcnQ6ICcuLi9zc2wvc2VydmVyLmNydCcsXG4gICAgfTtcblxuICAgIHJ1blRhcmdldFNwZWMoaG9zdCwgZGV2U2VydmVyVGFyZ2V0U3BlYywgb3ZlcnJpZGVzKS5waXBlKFxuICAgICAgdGFwKChidWlsZEV2ZW50KSA9PiBleHBlY3QoYnVpbGRFdmVudC5zdWNjZXNzKS50b0JlKHRydWUpKSxcbiAgICAgIGNvbmNhdE1hcCgoKSA9PiBmcm9tKHJlcXVlc3QoJ2h0dHBzOi8vbG9jYWxob3N0OjQyMDAvaW5kZXguaHRtbCcpKSksXG4gICAgICB0YXAocmVzcG9uc2UgPT4gZXhwZWN0KHJlc3BvbnNlKS50b0NvbnRhaW4oJzx0aXRsZT5IZWxsb1dvcmxkQXBwPC90aXRsZT4nKSksXG4gICAgICB0YWtlKDEpLFxuICAgICkudG9Qcm9taXNlKCkudGhlbihkb25lLCBkb25lLmZhaWwpO1xuICB9LCAzMDAwMCk7XG59KTtcbiJdfQ==